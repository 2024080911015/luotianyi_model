"""
ä¿¡æ¯æŸ¥è¯¢æœåŠ¡æ¨¡å—
æä¾›å¤©æ°”æŸ¥è¯¢ã€æ—¶é—´æŸ¥è¯¢ã€æ™ºèƒ½é—®å€™ç­‰åŠŸèƒ½
"""

import datetime
import webbrowser


# å¤©æ°”é¢„æŠ¥ç½‘ç«™ URL
WEATHER_URL = "https://weather.cma.cn/"


def open_weather():
    """æ‰“å¼€æµè§ˆå™¨è®¿é—®å¤©æ°”é¢„æŠ¥ç½‘ç«™"""
    webbrowser.open(WEATHER_URL)


def get_time_info():
    """
    è¿”å›å½“å‰æ—¶é—´çš„æ ¼å¼åŒ–ä¿¡æ¯ã€‚
    """
    now = datetime.datetime.now()
    weekdays = ["æ˜ŸæœŸä¸€", "æ˜ŸæœŸäºŒ", "æ˜ŸæœŸä¸‰", "æ˜ŸæœŸå››", "æ˜ŸæœŸäº”", "æ˜ŸæœŸå…­", "æ˜ŸæœŸæ—¥"]
    weekday = weekdays[now.weekday()]

    return f"ğŸ• {now.month}æœˆ{now.day}æ—¥ {weekday} {now.hour:02d}:{now.minute:02d}"


def get_greeting():
    """
    æ ¹æ®å½“å‰æ—¶é—´æ®µè¿”å›ä¸åŒçš„é—®å€™è¯­ã€‚
    """
    hour = datetime.datetime.now().hour

    if 5 <= hour < 8:
        greetings = [
            "æ—©ä¸Šå¥½ï¼æ–°çš„ä¸€å¤©å¼€å§‹å•¦~",
            "æ—©å®‰ï¼ä»Šå¤©ä¹Ÿè¦å…ƒæ°”æ»¡æ»¡å“¦ï¼",
            "èµ·è¿™ä¹ˆæ—©ï¼ŒçœŸæ£’ï¼",
        ]
    elif 8 <= hour < 12:
        greetings = [
            "ä¸Šåˆå¥½ï¼å·¥ä½œåŠ æ²¹å“¦~",
            "è®°å¾—å–æ¯æ°´ï¼Œä¿æŒç²¾åŠ›å……æ²›ï¼",
            "ä¸Šåˆçš„é˜³å…‰çœŸå¥½å‘¢ï¼",
        ]
    elif 12 <= hour < 14:
        greetings = [
            "ä¸­åˆå¥½ï¼è¯¥åƒåˆé¥­å•¦~",
            "åˆé¥­æ—¶é—´åˆ°ï¼åˆ«å¿˜äº†åƒé¥­å“¦ï¼",
            "ä¸­åˆäº†ï¼Œä¼‘æ¯ä¸€ä¸‹å§ï¼",
        ]
    elif 14 <= hour < 18:
        greetings = [
            "ä¸‹åˆå¥½ï¼ç»§ç»­åŠ æ²¹ï¼",
            "ä¸‹åˆèŒ¶æ—¶é—´åˆ°~è¦æ¥æ¯å¥¶èŒ¶å—ï¼Ÿ",
            "ä¸‹åˆäº†ï¼Œåˆ«å¤ªç´¯å“¦ï¼",
        ]
    elif 18 <= hour < 22:
        greetings = [
            "æ™šä¸Šå¥½ï¼è¾›è‹¦ä¸€å¤©å•¦~",
            "æ™šä¸Šäº†ï¼Œæ”¾æ¾ä¸€ä¸‹å§ï¼",
            "ä»Šå¤©ä¹Ÿè¾›è‹¦äº†ï¼Œå¥½å¥½ä¼‘æ¯~",
        ]
    else:
        greetings = [
            "å¤œæ·±äº†ï¼Œæ—©ç‚¹ç¡è§‰å“¦~",
            "è¿™ä¹ˆæ™šäº†è¿˜ä¸ç¡å—ï¼Ÿæ³¨æ„èº«ä½“ï¼",
            "æ™šå®‰ï¼åšä¸ªå¥½æ¢¦~",
        ]

    import random

    return f"ğŸ‘‹ {random.choice(greetings)}"
